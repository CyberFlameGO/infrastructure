FROM docker

# Install git packages
RUN apk update && apk upgrade && apk add bash git openssh curl

# Setup git identity
ARG GIT_EMAIL=resources@docker.com
RUN git config --global user.email $GIT_EMAIL
ARG GIT_NAME=resources
RUN git config --global user.name $GIT_NAME

# Setup git environment variables
ENV GIT_URL=""
ENV GIT_CMD=""
ENV GIT_BRANCH=master
ENV GIT_TIME=15

# Copy and setup the git cron script
COPY script/git.sh ./git.sh
RUN chmod +x git.sh
CMD ./git.sh