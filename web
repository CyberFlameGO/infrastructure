FROM stratusnetwork/resources:base

# Ensure bundle is installed
RUN gem install bundle

# Clone the web repository using git
RUN ./clone.sh OCN "bundle install"

# Load ocn data repository (needs to be in this directory)
VOLUME /minecraft/repo/data

# Expose the default web ports
ENV WEB_PORT=3000
ONBUILD EXPOSE $WEB_PORT